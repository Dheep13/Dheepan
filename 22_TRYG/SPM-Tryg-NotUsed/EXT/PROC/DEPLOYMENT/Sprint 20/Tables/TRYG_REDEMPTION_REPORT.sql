

DROP TABLE EXT.TRYG_REDEMPTION_REPORT;

CREATE COLUMN TABLE EXT.TRYG_REDEMPTION_REPORT(
	ROWNUMBER BIGINT CS_FIXED NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	TABLE_NAME VARCHAR(255),
	POLICYNUMBER VARCHAR(255),
	INSURANCEGRPNAME VARCHAR(255),
	FGR SMALLINT CS_INT,
	CUSTOMERNAME VARCHAR(255),
	COUNT BIGINT CS_FIXED,
	SPLITFLAG SMALLINT CS_INT,
	WEIGHT DECIMAL(25, 10) CS_FIXED,
	POLICYSTARTDATE DATE CS_DAYDATE,
	NEWPREMIUM DECIMAL(25, 10) CS_FIXED,
	OLDPREMIUM DECIMAL(25, 10) CS_FIXED,
	BEREGNETPROVISION DECIMAL(25, 10) CS_FIXED,
	PARTICIPANT_NAME VARCHAR(255),
	AGENT VARCHAR(255),
	AGENTTITLE VARCHAR(255),
	PERIOD VARCHAR(255),
	PERIODSEQ BIGINT CS_FIXED,
	CAUSE VARCHAR(255),
	ULTIMOPOINT DECIMAL(25, 10) CS_FIXED,
	TILGANGSTYPE VARCHAR(255),
	RABATGL VARCHAR(255),
	RABATNY VARCHAR(255),
	REVERSAL VARCHAR(255),
	PAYMENTSTATUS VARCHAR(255),
	PAYMENTDATE DATE CS_DAYDATE,
	PARTNERAGREEMENT1 VARCHAR(255),
	PARTNERAGREEMENT2 VARCHAR(255),
	CREATEDATE LONGDATE CS_LONGDATE,
	BUSINESSUNIT VARCHAR(50),
	CALENDARSEQ BIGINT CS_FIXED,
	CALENDARNAME VARCHAR(255),
	COMMISSIONPERCENTAGE VARCHAR(255),
	PROCESSINGUNITNAME VARCHAR(255),
    SPLIT_TYPE VARCHAR(255),
    POLICY_COMP_DATE DATE CS_DAYDATE,
	PROCESSINGUNITSEQ BIGINT CS_FIXED
)
UNLOAD PRIORITY 5 AUTO MERGE
	PARTITION BY RANGE (POLICYSTARTDATE)(
		PARTITION '20190101' <= VALUES < '20200101',
		PARTITION '20200101' <= VALUES < '20210101',
		PARTITION '20210101' <= VALUES < '20220101',
		PARTITION '20220101' <= VALUES < '20230101',
		PARTITION '20230101' <= VALUES < '20240101',
		PARTITION '20240101' <= VALUES < '20250101',
		PARTITION '20250101' <= VALUES < '20260101',
		PARTITION '20260101' <= VALUES < '20270101',
		PARTITION '20270101' <= VALUES < '20280101',
		PARTITION '20280101' <= VALUES < '20290101',
		PARTITION '20290101' <= VALUES < '20300101',

	);
CREATE INDEX IDX_POLICY_NUMBER ON EXT.TRYG_REDEMPTION_REPORT ( POLICYNUMBER ASC );
CREATE INDEX IDX_AGENT ON EXT.TRYG_REDEMPTION_REPORT ( AGENT ASC );
CREATE INDEX IDX_PERIOD ON EXT.TRYG_REDEMPTION_REPORT ( PERIOD ASC )
;
