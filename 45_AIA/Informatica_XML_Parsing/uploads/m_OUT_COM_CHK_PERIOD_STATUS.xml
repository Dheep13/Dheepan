<MAPPING DESCRIPTION="" ISVALID="YES" NAME="m_OUT_COM_CHK_PERIOD_STATUS" OBJECTVERSION="1" VERSIONNUMBER="1">
        <TRANSFORMATION DESCRIPTION="" NAME="SQ_VW_OUT_PERIOD_STATUS_COUNT" OBJECTVERSION="1" REUSABLE="NO" TYPE="Source Qualifier" VERSIONNUMBER="1">
            <TRANSFORMFIELD DATATYPE="decimal" DEFAULTVALUE="" DESCRIPTION="" NAME="STOP_FLAG" PICTURETEXT="" PORTTYPE="INPUT/OUTPUT" PRECISION="7" SCALE="0" />
            <TABLEATTRIBUTE NAME="Sql Query" VALUE="SELECT MAX(CPAY_DATE)- MAX(POST_DATE) STOP_FLAG &#13;&#10;  FROM (SELECT CASE&#13;&#10;                 WHEN UPPER(E.DESCRIPTION) LIKE '%STAGE=COMPENSATEANDPAY%' THEN&#13;&#10;                  E.STARTTIME&#13;&#10;                 ELSE&#13;&#10;                  DATE '1000-01-01'&#13;&#10;               END CPAY_DATE,&#13;&#10;               CASE&#13;&#10;                 WHEN UPPER(E.DESCRIPTION) LIKE '%STAGE=$$STR_PIPELINE_STATUS%' THEN&#13;&#10;                  E.STARTTIME&#13;&#10;                 ELSE&#13;&#10;                  DATE '1000-01-01'&#13;&#10;               END POST_DATE&#13;&#10;FROM    CS_PERIOD@TC_LINK A,&#13;&#10;       CS_CALENDAR@TC_LINK B,&#13;&#10;       CS_PERIODTYPE@TC_LINK C,&#13;&#10;       IN_ETL_CONTROL D,&#13;&#10;       CS_PIPELINERUN@TC_LINK E, &#13;&#10;       cs_processingunit@TC_LINK F&#13;&#10;WHERE  A.CALENDARSEQ = B.CALENDARSEQ&#13;&#10;  AND  A.PERIODTYPESEQ = C.PERIODTYPESEQ&#13;&#10;  AND  E.PERIODSEQ = A.PERIODSEQ&#13;&#10;  AND  e.processingunitseq = f.processingunitseq&#13;&#10;  AND  A.REMOVEDATE = TO_DATE('1/1/2200','MM/DD/YYYY')&#13;&#10;  AND  B.REMOVEDATE = TO_DATE('1/1/2200','MM/DD/YYYY')&#13;&#10;  AND  C.REMOVEDATE = TO_DATE('1/1/2200','MM/DD/YYYY')&#13;&#10;  AND  E.REMOVEDATE = TO_DATE('1/1/2200','MM/DD/YYYY')&#13;&#10;  AND  LOWER(B.NAME) = '$$STR_CALENDAR_NAME'&#13;&#10;  AND  LOWER(C.NAME) = 'month'&#13;&#10;  AND  D.TXT_KEY_STRING = 'OPER_CYCLE_DATE'&#13;&#10;  AND  D.TXT_FILE_NAME ='GLOBAL'&#13;&#10;  AND  A.STARTDATE &lt;= TO_DATE(D.TXT_KEY_VALUE,'YYYY-MM-DD')&#13;&#10;  AND  A.ENDDATE &gt; TO_DATE(D.TXT_KEY_VALUE,'YYYY-MM-DD')&#13;&#10;  AND  E.STATUS = 'Successful'&#13;&#10; AND f.name='$$STR_PROCESSING_UNIT'&#13;&#10;  --AND  UPPER(E.DESCRIPTION) LIKE '%STAGE=$$STR_PIPELINE_STATUS%'&#13;&#10;&#13;&#10;union all&#13;&#10;select DATE'1000-01-01', DATE'1000-01-01' from dual&#13;&#10;&#13;&#10;)" />
            <TABLEATTRIBUTE NAME="User Defined Join" VALUE="" />
            <TABLEATTRIBUTE NAME="Source Filter" VALUE="" />
            <TABLEATTRIBUTE NAME="Number Of Sorted Ports" VALUE="0" />
            <TABLEATTRIBUTE NAME="Tracing Level" VALUE="Normal" />
            <TABLEATTRIBUTE NAME="Select Distinct" VALUE="NO" />
            <TABLEATTRIBUTE NAME="Is Partitionable" VALUE="NO" />
            <TABLEATTRIBUTE NAME="Pre SQL" VALUE="" />
            <TABLEATTRIBUTE NAME="Post SQL" VALUE="" />
            <TABLEATTRIBUTE NAME="Output is deterministic" VALUE="NO" />
            <TABLEATTRIBUTE NAME="Output is repeatable" VALUE="Never" />
        </TRANSFORMATION>
        <TRANSFORMATION DESCRIPTION="" NAME="EXPTRANS" OBJECTVERSION="1" REUSABLE="NO" TYPE="Expression" VERSIONNUMBER="1">
            <TRANSFORMFIELD DATATYPE="decimal" DEFAULTVALUE="" DESCRIPTION="" EXPRESSION="STOP_FLAG" EXPRESSIONTYPE="GENERAL" NAME="STOP_FLAG" PICTURETEXT="" PORTTYPE="INPUT/OUTPUT" PRECISION="7" SCALE="0" />
            <TRANSFORMFIELD DATATYPE="decimal" DEFAULTVALUE="ERROR('transformation error')" DESCRIPTION="" EXPRESSION="IIF( STOP_FLAG&gt;=0,abort('This period has not been '||LOWER($$STR_PIPELINE_STATUS)||' end.'),STOP_FLAG)" EXPRESSIONTYPE="GENERAL" NAME="O_POSTEDPIPELINE_NUM" PICTURETEXT="" PORTTYPE="OUTPUT" PRECISION="15" SCALE="0" />
            <TABLEATTRIBUTE NAME="Tracing Level" VALUE="Normal" />
        </TRANSFORMATION>
        <INSTANCE DESCRIPTION="" NAME="ff_dual" TRANSFORMATION_NAME="ff_dual" TRANSFORMATION_TYPE="Target Definition" TYPE="TARGET" />
        <INSTANCE DBDNAME="SGCALLIDUS" DESCRIPTION="" NAME="VW_OUT_PERIOD_STATUS_COUNT" TRANSFORMATION_NAME="VW_OUT_PERIOD_STATUS_COUNT" TRANSFORMATION_TYPE="Source Definition" TYPE="SOURCE" />
        <INSTANCE DESCRIPTION="" NAME="SQ_VW_OUT_PERIOD_STATUS_COUNT" REUSABLE="NO" TRANSFORMATION_NAME="SQ_VW_OUT_PERIOD_STATUS_COUNT" TRANSFORMATION_TYPE="Source Qualifier" TYPE="TRANSFORMATION">
            <ASSOCIATED_SOURCE_INSTANCE NAME="VW_OUT_PERIOD_STATUS_COUNT" />
        </INSTANCE>
        <INSTANCE DESCRIPTION="" NAME="EXPTRANS" REUSABLE="NO" TRANSFORMATION_NAME="EXPTRANS" TRANSFORMATION_TYPE="Expression" TYPE="TRANSFORMATION" />
        <CONNECTOR FROMFIELD="O_POSTEDPIPELINE_NUM" FROMINSTANCE="EXPTRANS" FROMINSTANCETYPE="Expression" TOFIELD="DUMMY" TOINSTANCE="ff_dual" TOINSTANCETYPE="Target Definition" />
        <CONNECTOR FROMFIELD="POSTEDPIPELINE_NUM" FROMINSTANCE="VW_OUT_PERIOD_STATUS_COUNT" FROMINSTANCETYPE="Source Definition" TOFIELD="STOP_FLAG" TOINSTANCE="SQ_VW_OUT_PERIOD_STATUS_COUNT" TOINSTANCETYPE="Source Qualifier" />
        <CONNECTOR FROMFIELD="STOP_FLAG" FROMINSTANCE="SQ_VW_OUT_PERIOD_STATUS_COUNT" FROMINSTANCETYPE="Source Qualifier" TOFIELD="STOP_FLAG" TOINSTANCE="EXPTRANS" TOINSTANCETYPE="Expression" />
        <TARGETLOADORDER ORDER="1" TARGETINSTANCE="ff_dual" />
        <MAPPINGVARIABLE DATATYPE="string" DEFAULTVALUE="" DESCRIPTION="" ISEXPRESSIONVARIABLE="NO" ISPARAM="YES" NAME="$$STR_PROCESSING_UNIT" PRECISION="50" SCALE="0" USERDEFINED="YES" />
        <MAPPINGVARIABLE DATATYPE="string" DEFAULTVALUE="" DESCRIPTION="" ISEXPRESSIONVARIABLE="NO" ISPARAM="YES" NAME="$$STR_CALENDAR_NAME" PRECISION="50" SCALE="0" USERDEFINED="YES" />
        <MAPPINGVARIABLE DATATYPE="string" DEFAULTVALUE="" DESCRIPTION="" ISEXPRESSIONVARIABLE="NO" ISPARAM="YES" NAME="$$STR_PIPELINE_STATUS" PRECISION="50" SCALE="0" USERDEFINED="YES" />
        <ERPINFO />
    </MAPPING>
    